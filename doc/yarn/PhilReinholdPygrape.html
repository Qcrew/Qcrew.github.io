

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PhilReinholdPygrape &mdash; Qcrew documentation  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="yarn" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Qcrew documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Packages</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">yarn</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">PhilReinholdPygrape</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Qcrew documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">yarn</a> &raquo;</li>
        
      <li>PhilReinholdPygrape</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/yarn/PhilReinholdPygrape.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-yarn.PhilReinholdPygrape">
<span id="philreinholdpygrape"></span><h1>PhilReinholdPygrape<a class="headerlink" href="#module-yarn.PhilReinholdPygrape" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="yarn.PhilReinholdPygrape.run_grape">
<code class="sig-prename descclassname">yarn.PhilReinholdPygrape.</code><code class="sig-name descname">run_grape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">init_controls</span></em>, <em class="sig-param"><span class="n">setups</span></em>, <em class="sig-param"><span class="n">penalty_fns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reporter_fns</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">outdir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dt</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">n_ss</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">init_aux_params</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filt_func</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">test_cost</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">shape_sigma</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">shape_array</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_proc</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">discrepancy_penalty</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">discrepancy_idcs</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">response</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save_data</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">eval_once</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">impulse_data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ssb</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">term_fid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">check_grad</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">freq_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">opts</span></em><span class="sig-paren">)</span><a class="headerlink" href="#yarn.PhilReinholdPygrape.run_grape" title="Permalink to this definition">¶</a></dt>
<dd><p>Run BFGS in order to minimize the infidelity of
unitary implemented by the controls</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init_controls</strong> (<em>[</em><em>N_CTRLS</em><em>, </em><em>PLEN</em><em>] </em><em>real array</em>) – initial guess for the control array</p></li>
<li><p><strong>setups</strong> (<em>List of tuples</em>) – <p>Each tuple consists of either 3 elements
(H drift, H controls, U target) or 4 elements
(H drift, H controls, init states, final states)</p>
<ul>
<li><p>H drift ([DIM, DIM] complex array)</p></li>
<li><p>H controls ([N_CTRLS, DIM, DIM] complex array)</p></li>
<li><p>U target ([DIM, DIM] complex array)</p></li>
<li><p>init/final states: ([N_STATES, DIM] complex array)</p></li>
</ul>
<p>If any of these elements are qutip Qobjects
automatic conversion will be attempted</p>
</p></li>
<li><p><strong>penalty_fns</strong> (<em>List of callables</em>) – Each function should take the controls as an
argument and should return a (cost, gradient)
tuple</p></li>
<li><p><strong>reporter_fns</strong> (<em>List of callables</em>) – Functions used for status reporting.
The argument names are extracted from the
function itself, and used to supply the
necessary data to the function.</p></li>
<li><p><strong>outdir</strong> (<em>str</em>) – Output directory. Created if it does not exist.
Output is put in a numbered subdirectory of
outdir, which prevents overwriting old results.</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – time step size of the control waveforms</p></li>
<li><p><strong>n_ss</strong> (<em>int</em>) – factor by which to sub-sample the controls</p></li>
<li><p><strong>filt_func</strong> (<em>callable</em>) – a filter function that returns the response
versus frequency, e.g. a Gaussian lambda
&gt;&gt;&gt; fs: exp(-fs**2/(2*sigma**2))</p></li>
<li><p><strong>test_cost</strong> (<em>int</em><em> or </em><em>bool</em>) – if nonzero, run specified number of tests of
the gradient to ensure its accuracy.
The minimization is not performed</p></li>
<li><p><strong>shape_sigma</strong> (<em>float</em>) – Specifies the width of the shape function,
which forces the amplitude to go to zero
smoothly at the beginning and end of the pulse.</p></li>
<li><p><strong>n_proc</strong> (<em>int</em>) – If using multiple setups, multiple processors
can be used to run each setup in parallel.
This specifies the number of processes to use.
There is no advantage to setting this number
larger than the number of setups.</p></li>
<li><p><strong>discrepancy_penalty</strong> (<em>float</em>) – If using multiple setups, penalize the
discrepancy sum(F_k - mean({F_k}) of the
fidelitie F_k</p></li>
<li><p><strong>dtype</strong> (<em>numpy dtype</em>) – Set the dtype used to do calculations.
Set to np.complex64 if speed is valued over
precision</p></li>
<li><p><strong>opts</strong> (<em>dict</em>) – additional arguments are passed to minimizer.
see <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/optimize.minimize-bfgs.html">scipy.optimize.minimize</a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="yarn" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Qcrew (Yvonne Y. Gao et al.)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>